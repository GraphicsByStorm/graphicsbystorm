---
export const prerender = false;

import BaseLayout from "$layouts/BaseLayout.astro";
import Header from "$components/Header.astro";

const { user } = Astro.locals;
if (user) return Astro.redirect("/account");
---
<BaseLayout title="Register â€” GraphicsByStorm">
  <Header />
  <section class="section torn-top torn-angle-right" style="--torn-color: var(--color-surface-950);">
    <div class="section-inner">
      <h1 class="heading-2 text-white mb-4">Create account</h1>
      <form method="post" action="/api/auth/register" class="card p-5 space-y-4 max-w-md">
        <input class="input" type="text" name="name" placeholder="Full name" />
        <input class="input" type="email" name="email" placeholder="Email" required />
        <input class="input" type="password" name="password" placeholder="Password (min 8 chars)" minlength="8" required />
        <input class="input" type="tel" name="phone" placeholder="Phone (optional)" />
        <button class="btn-brand w-full">Create account</button>
        <p class="text-sm text-neutral-400">
          Already have an account? <a class="link-underline" href="/login">Sign in</a>
        </p>
      </form>
    </div>
  </section>
</BaseLayout>
