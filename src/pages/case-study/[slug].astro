---
import BaseLayout from '$layouts/BaseLayout.astro';
import Header from '$components/Header.astro';
import { WORK } from '$lib/data/work';

const { slug } = Astro.params;
const item = WORK.find(w => w.slug === slug);

if (!item) {
  return Astro.redirect('/work'); // simple fallback for now
}
---
<BaseLayout title={`${item.title} — Case Study — GraphicsByStorm`}>
  <Header />

  <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-8">
    <header>
      <h1 class="text-2xl font-semibold text-white">{item.title}</h1>
      <p class="mt-2 text-neutral-400">{item.blurb}</p>
      <div class="mt-3 flex flex-wrap gap-2">
        {item.tags.map(t => <span class="text-xs px-2 py-1 rounded-full border border-white/15 text-neutral-300">{t}</span>)}
      </div>
    </header>

    <section class="grid gap-4 sm:grid-cols-2">
      {item.images.map((src) => (
        <div class="bg-neutral-900 rounded overflow-hidden">
          <img src={src} alt="" class="size-full object-cover" />
        </div>
      ))}
    </section>

    <section class="prose prose-invert max-w-none">
      <p>Wireframe case study content goes here. We’ll expand with process, constraints, outcomes, and a CTA.</p>
    </section>

    <footer class="pt-4">
      <a href="/work" class="underline">← Back to Work</a>
    </footer>
  </main>
</BaseLayout>
