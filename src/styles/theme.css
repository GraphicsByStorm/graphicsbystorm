@import "tailwindcss";

/* Prefer dark UI everywhere */
:root { color-scheme: dark; }

/* ───────────────── Tokens ───────────────── */
@theme {
  /* Typography */
  --font-sans: ui-sans-serif, system-ui, Inter, "Segoe UI", Roboto, Arial,
               "Apple Color Emoji","Segoe UI Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
               "Liberation Mono","Courier New", monospace;

  /* Palette (keep brand cool/violet) */
  --color-brand-50:  oklch(0.98 0.02 280);
  --color-brand-100: oklch(0.95 0.04 280);
  --color-brand-200: oklch(0.90 0.06 280);
  --color-brand-300: oklch(0.82 0.10 280);
  --color-brand-400: oklch(0.74 0.13 280);
  --color-brand-500: oklch(0.66 0.16 280);
  --color-brand-600: oklch(0.58 0.18 280);
  --color-brand-700: oklch(0.51 0.18 280);
  --color-brand-800: oklch(0.44 0.16 280);
  --color-brand-900: oklch(0.38 0.14 280);

  /* Surfaces (tight, neutral stack) */
  --color-surface-950: #0b0c0f; /* page */
  --color-surface-900: #0f1115; /* cards */
  --color-surface-850: #141720; /* hover */

  /* Radius / shadow */
  --radius-md: 10px;
  --shadow-card: 0 1px 0 hsl(0 0% 100% / 0.04), 0 12px 30px hsl(0 0% 0% / 0.35);

  /* Layout */
  --container: 72rem;
}

/* Tiny monochrome noise to use as a mask (stays neutral) */
:root {
  --noise-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='64' height='64' fill='black' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* ───────────────── Base ───────────────── */
@layer base {
  html, body { @apply bg-neutral-950 text-neutral-200 font-sans; }
  ::selection { @apply bg-brand-500/30 text-white; }
}

/* ───────────────── Utilities ───────────────── */

@utility container-shell {
  max-inline-size: var(--container);
  margin-inline: auto;
  padding-inline: clamp(1rem, 4vw, 2rem);
}

@utility section-wrap {
  @apply container-shell py-12 md:py-16 border-b border-white/10;
}

/* Clean, modern card; grunge is subtle and optional elsewhere */
@utility card {
  background-color: var(--color-surface-900);
  border: 1px solid rgb(255 255 255 / 0.10);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-card);
  backdrop-filter: saturate(115%) blur(6px);
}

/* Hover micro-movement (kept tiny) */
@layer utilities {
  .hover-lift { transition: transform 150ms ease, opacity 150ms ease; }
  .hover-lift:hover { transform: translateY(-1px); }
  .hover-lift:active { transform: translateY(0); }
}

/* Buttons */
@utility btn {
  @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2
         text-sm font-medium transition-colors;
}
@utility btn-primary { @apply btn bg-brand-500 text-black hover:bg-brand-400; }
@utility btn-ghost   { @apply btn bg-transparent text-neutral-200 border border-white/12 hover:border-white/25; }
@utility btn-muted   { @apply btn bg-white text-black hover:bg-neutral-200; }

/* Inputs */
@utility input   { @apply h-11 w-full rounded-lg bg-neutral-900/70 border border-white/10 px-3 text-sm placeholder:text-neutral-500; }
@utility textarea{ @apply w-full min-h-32 rounded-lg bg-neutral-900/70 border border-white/10 px-3 py-2 text-sm placeholder:text-neutral-500; }
@utility select  { @apply h-11 w-full rounded-lg bg-neutral-900/70 border border-white/10 px-3 text-sm; }

/* Chips (filters) */
@utility chip {
  @apply inline-flex items-center gap-2 rounded-full border border-white/12
         px-3 py-1.5 text-xs text-neutral-200 bg-neutral-900/60;
}
@utility chip-active { @apply bg-brand-500/18 border-brand-500/40 text-white; }

/* Headings */
@utility heading-hero { @apply text-5xl md:text-7xl font-extrabold tracking-tight; }
@utility heading-2    { @apply text-2xl md:text-3xl font-semibold; }

/* Links */
@utility link-underline { @apply underline underline-offset-4 decoration-white/30 hover:decoration-white; }

/* No scrollbar helper */
@utility no-scrollbar { scrollbar-width: none; -ms-overflow-style: none; }
@layer utilities { .no-scrollbar::-webkit-scrollbar { display:none } }

/* ─────────── Subtle grit (reined-in) ─────────── */
/* A very light noise veil; doesn’t alter positioning (so sticky works) */
@layer utilities {
  .noise-overlay::before {
    content: ""; position: absolute; inset: 0; pointer-events: none; border-radius: inherit;
    background-color: rgb(255 255 255 / 0.06);
    -webkit-mask-image: var(--noise-mask);
            mask-image: var(--noise-mask);
    -webkit-mask-size: 320px 320px;
            mask-size: 320px 320px;
  }
}

/* Optional faint grid for the page background only */
@utility bg-grid {
  background-image:
    linear-gradient(to right, rgb(255 255 255 / 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgb(255 255 255 / 0.03) 1px, transparent 1px);
  background-size: 32px 32px;
  background-position: center;
}
