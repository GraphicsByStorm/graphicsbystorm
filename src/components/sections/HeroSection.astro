---
import OpenClosedBadge from '$svelte/components/OpenClosedBadge.svelte';

// Text/content
const headline = "Clean, modern craft — with a gritty edge.";
const subhead  = "Branding, social kits, promos, full-stack web, and video. Critique-driven, conversation-focused design with weekly 1:1s.";

// CTAs
const ctaPrimary   = { text: "Start a project", href: "/#contact" };
const ctaSecondary = { text: "Premade work → Shop", href: "/shop" };

// Background hero image (make sure the asset exists)
const heroImage = "/images/hero.jpg";

// Vertical rail text
const verticalText = "GRAPHICSBYSTORM";
---

<section class="relative isolate overflow-hidden bg-[var(--surface-0,#0a0a0a)]">
  <!-- Background image -->
  <div
    aria-hidden="true"
    class="absolute inset-0 -z-10 bg-cover bg-center"
    style={`background-image:url(${heroImage});`}
  />

  <!-- Grid overlay -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10 opacity-[.14]">
    <div class="size-full bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,.15)_1px,transparent_1px)] [background-size:18px_18px]"></div>
  </div>

  <!-- Vignette for legibility -->
  <div aria-hidden="true" class="absolute inset-0 -z-10 bg-gradient-to-b from-black/40 via-black/25 to-black/55" />

  <div class="relative mx-auto max-w-6xl px-4 py-14 sm:py-16 lg:py-20">
    <!-- top row: pill + open/closed -->
    <div class="mb-5 flex flex-wrap items-center justify-between gap-3">
      <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/[.08] px-3 py-1.5 text-[13px] text-neutral-100">
        <span class="inline-block h-3 w-1.5 rounded-full" style="background: var(--color-brand-500,#E2A028);"></span>
        Designer • Dev • Video • 3D
      </span>
      <OpenClosedBadge client:load />
    </div>

    <!-- content -->
    <div class="relative">
      <div class="max-w-3xl">
        <h1 class="text-[clamp(1.9rem,4.6vw,3rem)] font-extrabold leading-[1.05] tracking-tight text-white">
          {headline}
        </h1>
        <p class="mt-3 max-w-[68ch] text-[15px] leading-relaxed text-neutral-200/95">
          {subhead}
        </p>

        <div class="mt-6 flex flex-wrap gap-2">
          <a href={ctaPrimary.href}
             class="inline-flex items-center rounded-md bg-[var(--color-brand-500,#E2A028)] px-4 py-2 text-[13px] font-semibold text-black shadow hover:opacity-90">
            {ctaPrimary.text}
          </a>
          <a href={ctaSecondary.href}
             class="inline-flex items-center rounded-md border border-white/10 bg-white/[.08] px-4 py-2 text-[13px] font-semibold text-white hover:bg-white/[.12]">
            {ctaSecondary.text}
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Vertical text rail (right edge) -->
  <div aria-hidden="true" class="vertical-rail pointer-events-none">
    <span class="vertical-rail__text">{verticalText}</span>
  </div>
</section>

<style>
  /* Vertical rail — shows on md+; narrow decorative spine on the right */
  .vertical-rail {
    position: absolute;
    inset-block: 0;
    right: clamp(6px, 1.2vw, 12px);
    width: 46px;
    display: none;
  }
  @media (min-width: 768px) { .vertical-rail { display: block; } }

  .vertical-rail__text {
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    border-left: 1px solid rgba(255,255,255,.18);
    border-right: 1px solid rgba(0,0,0,.35);
    background:
      linear-gradient(
        to bottom,
        rgba(255,255,255,.08),
        rgba(255,255,255,.02) 40% 60%,
        rgba(255,255,255,.08)
      );
    backdrop-filter: blur(0.5px);
    /* vertical writing (read top -> bottom) */
    writing-mode: vertical-rl;
    text-orientation: mixed;
    transform: rotate(180deg);
    letter-spacing: .14em;
    font-weight: 900;
    font-size: .82rem;
    color: color-mix(in oklab, var(--color-brand-500,#E2A028) 86%, #fff 14%);
    text-shadow:
      0 0 10px color-mix(in oklab, var(--color-brand-500,#E2A028) 50%, transparent),
      0 1px 0 rgba(0,0,0,.7);
    user-select: none;
  }
</style>
