---
import TechBadges from '$svelte/components/TechBadges.svelte';
import OpenClosedBadge from '$svelte/components/OpenClosedBadge.svelte';

// Content (you can override via props if you want later)
const headline = "Technology jackknife: design, 3D, video, full-stack.";
const subhead =
  "Bold, witty, critique-driven. Clean modern craft with a gritty, grungy edge.";
const bio = `I started designing and editing at 10—running a gaming clan with no budget, just drive. Self-taught until 26, then a 3-year sprint to a B.S. in Graphic Design & Multimedia Arts (3.80 GPA; honor roll/dean’s list almost every semester). I build conversation-focused visuals and ship only when it’s right—quality over quantity. Weekly 1:1s, clear milestones, and a brand story that actually *speaks* for you.`;

const tools: string[] = [
  "Photoshop", "Illustrator", "InDesign",
  "Affinity Photo", "Affinity Designer", "Affinity Publisher",
  "Figma", "Svelte", "SvelteKit", "Astro",
  "GitHub", "Tailwind CSS", "TypeScript", "Prisma", "Firebase"
];

const metrics = [
  { label: "Projects shipped", value: "20+" },
  { label: "Typical turnaround", value: "1–3 weeks" }
];

// Optional portrait/logo
const portraitSrc = undefined;
// const portraitSrc = "/images/about/me.jpg";

const ctaPrimary = { text: "Start a project", href: "/#contact" };
const ctaSecondary = { text: "Can’t wait? Premade work here →", href: "/shop" };
---

<section id="about" class="section bg-[var(--surface-1,#0b0b0b)]">
  <div class="mx-auto max-w-6xl px-4 py-14 sm:py-16 lg:py-20">
    <!-- Top row -->
    <div class="mb-8 flex flex-wrap items-center justify-between gap-3">
      <h2 class="text-[clamp(1.5rem,2.6vw,2rem)] font-extrabold tracking-tight text-white">
        <span class="mr-2 inline-block h-3 w-1.5 translate-y-[2px] rounded-full"
              style="background: var(--color-brand-500,#E2A028);"></span>
        {headline}
      </h2>
      <OpenClosedBadge client:load />
    </div>

    <!-- Intro copy -->
    <p class="max-w-[60ch] text-neutral-300">{subhead}</p>
    <p class="mt-3 max-w-[68ch] text-[15px] leading-relaxed text-neutral-200/95">{bio}</p>

    <!-- CTAs -->
    <div class="mt-6 flex flex-wrap gap-3">
      <a href={ctaPrimary.href}
         class="inline-flex items-center rounded-lg bg-[var(--color-brand-500,#E2A028)] px-4 py-2 font-semibold text-black shadow hover:opacity-90">
        {ctaPrimary.text}
      </a>
      <a href={ctaSecondary.href}
         class="inline-flex items-center rounded-lg border border-white/10 bg-white/[.05] px-4 py-2 font-semibold text-white hover:bg-white/[.1]">
        {ctaSecondary.text}
      </a>
    </div>

    <!-- Main grid: Copy focus left; Visual/Badges/Metrics right -->
    <div
      class="about-grid mt-10 grid gap-8 lg:grid-cols-[minmax(0,1.15fr)_minmax(0,.85fr)] lg:items-start">

      <!-- Left column: process in compact cards for rhythm -->
      <section class="space-y-3">
        <h3 class="mb-2 text-sm font-semibold uppercase tracking-wider text-neutral-400">
          Process
        </h3>

        <ol class="space-y-3">
          <li class="about-card">
            <div class="about-card__title">Discovery</div>
            <p class="about-card__body">
              1:1 kickoff to learn your story, problem, and goals—gather inputs to aim concepts at real outcomes.
            </p>
          </li>
          <li class="about-card">
            <div class="about-card__title">Development</div>
            <p class="about-card__body">
              Research + inspiration, competitor scan, and early studies; translate the story into bold directions.
            </p>
          </li>
          <li class="about-card">
            <div class="about-card__title">Concepts</div>
            <p class="about-card__body">
              Walkthrough of sketches/concepts; we pick apart details together and decide the strongest direction.
            </p>
          </li>
          <li class="about-card">
            <div class="about-card__title">Iteration</div>
            <p class="about-card__body">
              Refine and push the chosen concept; one more review to lock it in or cycle once more if needed.
            </p>
          </li>
          <li class="about-card">
            <div class="about-card__title">Finalization & Delivery</div>
            <p class="about-card__body">
              Final design + all exports (source files, PNG/JPG/SVG/AI/Affinity). Includes a file-format guide & support.
            </p>
          </li>
          <li class="about-card">
            <div class="about-card__title">One-Month Check-In</div>
            <p class="about-card__body">
              Follow-up to see results in the wild and request a testimonial if you’re thrilled.
            </p>
          </li>
        </ol>
      </section>

      <!-- Right column: optional portrait → badges → metrics -->
      <aside class="lg:pl-6">
        {portraitSrc ? (
          <div class="overflow-hidden rounded-2xl border border-white/10">
            <img src={portraitSrc} alt="Portrait" class="block w-full object-cover" loading="lazy" />
          </div>
        ) : null}

        <div class="mt-6">
          <h3 class="mb-2 text-sm font-semibold uppercase tracking-wider text-neutral-400">
            Tooling
          </h3>
          <TechBadges client:load items={tools} />
        </div>

        <div class="mt-6 grid grid-cols-2 gap-3">
          {metrics.map((m) => (
            <div class="about-kpi">
              <div class="about-kpi__value">{m.value}</div>
              <div class="about-kpi__label">{m.label}</div>
            </div>
          ))}
        </div>
      </aside>
    </div>
  </div>
</section>

<style>
  /* Cards tuned to match the lightbox feel */
  .about-card {
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.08);
    background: color-mix(in oklab, #000 92%, var(--color-brand-500,#E2A028) 8%);
    padding: .85rem .9rem;
  }
  .about-card__title {
    color: #fff;
    font-weight: 800;
    letter-spacing: .2px;
    margin-bottom: .25rem;
  }
  .about-card__body {
    color: rgba(230,230,230,.88);
    font-size: 15px;
    line-height: 1.55;
  }

  .about-kpi {
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.08);
    background: rgba(255,255,255,.04);
    padding: .9rem 1rem;
  }
  .about-kpi__value {
    color: #fff;
    font-weight: 900;
    font-size: clamp(1.05rem, 2vw, 1.25rem);
    line-height: 1.15;
  }
  .about-kpi__label {
    color: #9aa0a6;
    font-size: .85rem;
    margin-top: .15rem;
  }
</style>
